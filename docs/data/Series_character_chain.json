{"description":"","name":"series-character-chain","id":"0","data":{"nodes":[{"width":384,"height":673,"id":"dndnode_32","type":"genericNode","position":{"x":-218.85325321108053,"y":-314.4223428964621},"data":{"type":"OpenAI","node":{"template":{"cache":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"cache","type":"bool","list":false},"verbose":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"verbose","type":"bool","list":false},"client":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"client","type":"Any","list":false},"model_name":{"required":false,"placeholder":"","show":true,"multiline":false,"value":"text-davinci-003","password":false,"options":["text-davinci-003","text-davinci-002","text-curie-001","text-babbage-001","text-ada-001"],"name":"model_name","type":"str","list":true},"temperature":{"required":false,"placeholder":"","show":true,"multiline":false,"value":0.7,"password":false,"name":"temperature","type":"float","list":false},"max_tokens":{"required":false,"placeholder":"","show":true,"multiline":false,"value":256,"password":true,"name":"max_tokens","type":"int","list":false},"top_p":{"required":false,"placeholder":"","show":false,"multiline":false,"value":1,"password":false,"name":"top_p","type":"float","list":false},"frequency_penalty":{"required":false,"placeholder":"","show":false,"multiline":false,"value":0,"password":false,"name":"frequency_penalty","type":"float","list":false},"presence_penalty":{"required":false,"placeholder":"","show":false,"multiline":false,"value":0,"password":false,"name":"presence_penalty","type":"float","list":false},"n":{"required":false,"placeholder":"","show":false,"multiline":false,"value":1,"password":false,"name":"n","type":"int","list":false},"best_of":{"required":false,"placeholder":"","show":false,"multiline":false,"value":1,"password":false,"name":"best_of","type":"int","list":false},"model_kwargs":{"required":false,"placeholder":"","show":true,"multiline":false,"password":false,"name":"model_kwargs","type":"code","list":false},"openai_api_key":{"required":true,"placeholder":"","show":true,"multiline":false,"value":"","password":true,"name":"openai_api_key","display_name":"OpenAI API Key","type":"str","list":false},"batch_size":{"required":false,"placeholder":"","show":false,"multiline":false,"value":20,"password":false,"name":"batch_size","type":"int","list":false},"request_timeout":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"request_timeout","type":"Union[float, Tuple[float, float], NoneType]","list":false},"logit_bias":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"logit_bias","type":"code","list":false},"max_retries":{"required":false,"placeholder":"","show":false,"multiline":false,"value":6,"password":false,"name":"max_retries","type":"int","list":false},"streaming":{"required":false,"placeholder":"","show":false,"multiline":false,"value":false,"password":false,"name":"streaming","type":"bool","list":false},"_type":"OpenAI"},"description":"Generic OpenAI class that uses model name.","base_classes":["BaseOpenAI","OpenAI","BaseLanguageModel","BaseLLM"]},"id":"dndnode_32","value":null},"selected":false,"positionAbsolute":{"x":-218.85325321108053,"y":-314.4223428964621},"dragging":false},{"width":384,"height":755,"id":"dndnode_39","type":"genericNode","position":{"x":883.1538064650206,"y":-236.70039930684283},"data":{"type":"SeriesCharacterChain","node":{"template":{"memory":{"required":false,"placeholder":"","show":true,"multiline":false,"value":{"chat_memory":{"messages":[]},"output_key":null,"input_key":null,"return_messages":false,"human_prefix":"Human","ai_prefix":"AI","memory_key":"history"},"password":false,"name":"memory","type":"BaseMemory","list":false},"verbose":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"verbose","type":"bool","list":false},"prompt":{"required":false,"placeholder":"","show":true,"multiline":false,"value":{"input_variables":["history","input"],"output_parser":null,"partial_variables":{},"template":"The following is a friendly conversation between a human and an AI. The AI is talkative and provides lots of specific details from its context. If the AI does not know the answer to a question, it truthfully says it does not know.\n\nCurrent conversation:\n{history}\nHuman: {input}\nAI:","template_format":"f-string","validate_template":true,"_type":"prompt"},"password":false,"name":"prompt","type":"BasePromptTemplate","list":false},"llm":{"required":true,"placeholder":"","show":true,"multiline":false,"password":false,"name":"llm","type":"BaseLanguageModel","list":false},"output_key":{"required":true,"placeholder":"","show":true,"multiline":false,"value":"response","password":false,"name":"output_key","type":"str","list":false},"input_key":{"required":true,"placeholder":"","show":true,"multiline":false,"value":"input","password":false,"name":"input_key","type":"str","list":false},"template":{"required":false,"placeholder":"","show":false,"multiline":true,"value":"I want you to act like {character} from {series}.\nI want you to respond and answer like {character}. do not write any explanations. only answer like {character}.\nYou must know all of the knowledge of {character}.\nCurrent conversation:\n{history}\nHuman: {input}\n{character}:","password":false,"name":"template","type":"str","list":false},"ai_prefix_value":{"required":false,"placeholder":"","show":false,"multiline":false,"value":"character","password":false,"name":"ai_prefix_value","type":"str","list":false},"character":{"required":true,"placeholder":"","show":true,"multiline":false,"password":false,"name":"character","type":"str","list":false,"value":"Gandalf"},"series":{"required":true,"placeholder":"","show":true,"multiline":false,"password":false,"name":"series","type":"str","list":false,"value":"The Lord of the Rings"},"_type":"SeriesCharacterChain"},"description":"SeriesCharacterChain is a chain you can use to have a conversation with a character from a series.","base_classes":["Chain","BaseCustomChain","LLMChain","ConversationChain","SeriesCharacterChain"]},"id":"dndnode_39","value":null},"selected":false,"positionAbsolute":{"x":883.1538064650206,"y":-236.70039930684283},"dragging":false},{"width":384,"height":397,"id":"dndnode_41","type":"genericNode","position":{"x":390.6859241506154,"y":-529.7210886171526},"data":{"type":"ConversationSummaryMemory","node":{"template":{"human_prefix":{"required":false,"placeholder":"","show":false,"multiline":false,"value":"Human","password":false,"name":"human_prefix","type":"str","list":false},"ai_prefix":{"required":false,"placeholder":"","show":false,"multiline":false,"value":"AI","password":false,"name":"ai_prefix","type":"str","list":false},"llm":{"required":true,"placeholder":"","show":true,"multiline":false,"password":false,"name":"llm","type":"BaseLanguageModel","list":false},"prompt":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"prompt","type":"BasePromptTemplate","list":false},"summary_message_cls":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"summary_message_cls","type":"Type[langchain.schema.BaseMessage]","list":false},"chat_memory":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"chat_memory","type":"BaseChatMessageHistory","list":false},"output_key":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"output_key","type":"str","list":false},"input_key":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"input_key","type":"str","list":false},"return_messages":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"return_messages","type":"bool","list":false},"buffer":{"required":false,"placeholder":"","show":false,"multiline":false,"value":"","password":false,"name":"buffer","type":"str","list":false},"memory_key":{"required":false,"placeholder":"","show":true,"multiline":false,"value":"history","password":false,"name":"memory_key","type":"str","list":false},"_type":"ConversationSummaryMemory"},"description":"Conversation summarizer to memory.","base_classes":["ConversationSummaryMemory","BaseMemory","BaseChatMemory","SummarizerMixin"]},"id":"dndnode_41","value":null},"selected":false,"positionAbsolute":{"x":390.6859241506154,"y":-529.7210886171526},"dragging":false}],"edges":[{"source":"dndnode_32","sourceHandle":"OpenAI|dndnode_32|BaseOpenAI|OpenAI|BaseLanguageModel|BaseLLM","target":"dndnode_39","targetHandle":"BaseLanguageModel|llm|dndnode_39","className":"animate-pulse","id":"reactflow__edge-dndnode_32OpenAI|dndnode_32|BaseOpenAI|OpenAI|BaseLanguageModel|BaseLLM-dndnode_39BaseLanguageModel|llm|dndnode_39"},{"source":"dndnode_32","sourceHandle":"OpenAI|dndnode_32|BaseOpenAI|OpenAI|BaseLanguageModel|BaseLLM","target":"dndnode_41","targetHandle":"BaseLanguageModel|llm|dndnode_41","className":"animate-pulse","id":"reactflow__edge-dndnode_32OpenAI|dndnode_32|BaseOpenAI|OpenAI|BaseLanguageModel|BaseLLM-dndnode_41BaseLanguageModel|llm|dndnode_41"}],"viewport":{"x":302.92537281970607,"y":429.7239204719036,"zoom":0.6973718331752029}},"chat":[{"message":"Hey! Who are you?","isSend":true},{"message":" I am Gandalf.","isSend":false,"thought":"\u001b[1m> Entering new SeriesCharacterChain chain...\u001b[0m\nPrompt after formatting:\n\u001b[32;1m\u001b[1;3mI want you to act like Gandalf from The Lord of the Rings.\nI want you to respond and answer like Gandalf. do not write any explanations. only answer like Gandalf.\nYou must know all of the knowledge of Gandalf.\nCurrent conversation:\n\nHuman: Hey! Who are you?\nGandalf:\u001b[0m\n\n\u001b[1m> Finished chain.\u001b[0m"},{"message":"How can I destroy the one ring?","isSend":true},{"message":" The only way to destroy the Ring is to cast it into the fire of Mount Doom.","isSend":false,"thought":"\u001b[1m> Entering new SeriesCharacterChain chain...\u001b[0m\nPrompt after formatting:\n\u001b[32;1m\u001b[1;3mI want you to act like Gandalf from The Lord of the Rings.\nI want you to respond and answer like Gandalf. do not write any explanations. only answer like Gandalf.\nYou must know all of the knowledge of Gandalf.\nCurrent conversation:\nHuman: Hey! Who are you?\nGandalf:  I am Gandalf.\nHuman: How can I destroy the one ring?\nGandalf:\u001b[0m\n\n\u001b[1m> Finished chain.\u001b[0m"}]}